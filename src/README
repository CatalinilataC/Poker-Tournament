BAJENARU CATALIN
GRUPA 311CB
La inceputul programului este apelata functia initsala care aloca memoria necesara pt liste(inclusiv pointerul void info si pointerii de carectere).Exista o lista de mese si cate o lista de jucatori corespunzatoare fiecarei mese. Sunt citite valorile ce sunt atribuite elementelor din lista de mese(numele meselor, nr de locuri maxim, nr de locuri curent) si pt listele de jucatori(nume jucator, nrmaini). Citirea se face cu ajutorul a 2 for-uri.
Apoi in program exista procedura while in care este citita comanda si care apeleaza functia aferenta comenzii citite.
Functia afisare verifica daca sala are jucatori. Daca are parcurge lista de mese, iar pt fiecare masa parcurge lista de jucatori afisandu-i.
Functia de eliminare are ca parametrii: ALista pt a putea modifica capul listei daca e nevoie, si TLista adica elementul care va fi eliminat. Trateaza initial cazul in care elementul ce se vrea eliminat se afla la inceputul listei, daca nu parcurge toata lista pana il gaseste. In aceasta functie este dealocata si memoria elementului de eliminat, iar pt a putea folosi functia aceasta indiferent de lista(de jucatori sau de mese) inainte de apelarea functiei eliminare este dealocata memoria pt numele mesei sau pt numele jucatorului.
Functia soarta rezolva atat functia ghinion cat si noroc. Diferenta consta in apelarea ei: daca se doreste ghinion se va folosi o valoare negativa. Este parcursa lista de mese, se verifica daca exista masa pe care am primit-o ca argument al functiei. Se parcurge lista de jucatori pana este gasit jucatorul asupra caruia se vrea aplicata modificarea. Daca in urma modificarii nrmaini este <= 0 atunci se elimina jucatorul, iar daca in urma acestei eliminari nu mai exista jucatori la masa se elimina masa.
Functia tura e asemanatoare celei anterior descrise. Inainte parcurgerii listei de jucatori se face rotatia, iar acum nu mai cautam un jucator anume, ci vom decrementa tuturor jucatorilor nrmaini.
Functia cmp compara intai dupa valoarea campului nrmaini, iar daca sunt egale atunci compara lexicografic numele jucatorilor.
In functia clasament dupa ce e gasita masa ceruta se construieste o lista noua cu jucatorii ordonati. Aceasta lista este realizata folosind inserarea ordonata. Lista se afiseaza apoi este distrusa.
Functia inchide parcurge lista de mese pana gaseste numele mesei dat ca parametru functiei. Verifica daca mai exista locuri pt a putea redistribui jucatorii, si daca exista atunci parcurge de la inceput lista de mese iar apoi fiecare lista de jucatori e parcursa pana la final pt a putea adauga jucatorii de la masa ce urmeaza sa fie inchisa. Jucatorii sunt adaugati pana cand nu mai e loc la acea masa sau s-au terminat jucatorii de redistribuit.
